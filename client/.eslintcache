[{"/Users/sumi/Desktop/Ironhack/career/Malwarebytes/react-nodejs-exercise/client/src/index.js":"1","/Users/sumi/Desktop/Ironhack/career/Malwarebytes/react-nodejs-exercise/client/src/App.js":"2","/Users/sumi/Desktop/Ironhack/career/Malwarebytes/react-nodejs-exercise/client/src/components/ItemList.js":"3","/Users/sumi/Desktop/Ironhack/career/Malwarebytes/react-nodejs-exercise/client/src/components/ItemModal.js":"4","/Users/sumi/Desktop/Ironhack/career/Malwarebytes/react-nodejs-exercise/client/src/config.js":"5","/Users/sumi/Desktop/Ironhack/career/Malwarebytes/react-nodejs-exercise/client/src/components/Navbar.js":"6","/Users/sumi/Desktop/Ironhack/career/Malwarebytes/react-nodejs-exercise/client/src/components/Context.js":"7","/Users/sumi/Desktop/Ironhack/career/Malwarebytes/react-nodejs-exercise/client/src/components/Alert.js":"8"},{"size":244,"mtime":1608980561822,"results":"9","hashOfConfig":"10"},{"size":365,"mtime":1608980577446,"results":"11","hashOfConfig":"10"},{"size":575,"mtime":1609002316041,"results":"12","hashOfConfig":"10"},{"size":3088,"mtime":1609002338978,"results":"13","hashOfConfig":"10"},{"size":107,"mtime":1608993304547,"results":"14","hashOfConfig":"10"},{"size":616,"mtime":1609002266014,"results":"15","hashOfConfig":"10"},{"size":3252,"mtime":1609002242880,"results":"16","hashOfConfig":"10"},{"size":1316,"mtime":1609002290544,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1u5y3w7",{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25","usedDeprecatedRules":"22"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28","usedDeprecatedRules":"22"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"22"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36","usedDeprecatedRules":"22"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39"},"/Users/sumi/Desktop/Ironhack/career/Malwarebytes/react-nodejs-exercise/client/src/index.js",[],"/Users/sumi/Desktop/Ironhack/career/Malwarebytes/react-nodejs-exercise/client/src/App.js",[],["40","41"],"/Users/sumi/Desktop/Ironhack/career/Malwarebytes/react-nodejs-exercise/client/src/components/ItemList.js",["42","43"],"import React, { useContext } from \"react\";\nimport ItemModal from \"./ItemModal\";\nimport { Context } from \"./Context\";\nimport { Container } from \"react-bootstrap\";\nimport Alert from \"./Alert\";\n\nconst ItemList = () => {\n  const { items } = useContext(Context);\n  const [itemsValue, setItems] = items;\n\n  return (\n    <Container className=\"mt-4\">\n      <div className=\"d-flex flex-column\">\n        {itemsValue.map((item) => {\n          return <ItemModal item={item} key={item._id} />;\n        })}\n        <Alert />\n      </div>\n    </Container>\n  );\n};\n\nexport default ItemList;\n","/Users/sumi/Desktop/Ironhack/career/Malwarebytes/react-nodejs-exercise/client/src/components/ItemModal.js",["44","45","46","47","48","49","50","51"],"import React, { useState, useContext } from \"react\";\nimport { Button, Modal, Row, Col, Container } from \"react-bootstrap\";\nimport { Context } from \"./Context\";\n\nconst ItemModal = ({ item }) => {\n  // Modal\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  // Context\n  const { cart } = useContext(Context);\n  const [cartValue, setCart] = cart;\n\n  const { onAdd, onRemove } = useContext(Context);\n\n  return (\n    <>\n      <Button variant=\"outline-info\" onClick={handleShow} className=\"mt-3\">\n        <Container>\n          <Row className=\"d-flex justify-content-between\">\n            <Col lg={10}>\n              <p className=\"text-left mt-3\">{item.name}</p>\n            </Col>\n            <Col lg={2}>\n              <p className=\"text-left mt-3\">\n                {\" \"}\n                {!item.quantity ? (\n                  <>\n                    <p>Not available</p>\n                  </>\n                ) : (\n                  <>Qty: {item.quantity}</>\n                )}\n              </p>\n            </Col>\n          </Row>\n        </Container>\n      </Button>\n\n      <Modal\n        show={show}\n        onHide={handleClose}\n        size=\"lg\"\n        aria-labelledby=\"contained-modal-title-vcenter\"\n        centered\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>{item.name}</Modal.Title>\n        </Modal.Header>\n\n        <Modal.Body>\n          <Row>\n            <Col sm={8}>{item.description}</Col>\n            <Col sm={4}>\n              <div className=\"d-flex flex-column\">\n                <h4>$ {item.price}</h4>\n                {!item.quantity ? (\n                  <h6>Out of stock</h6>\n                ) : (\n                  <>\n                    <p>Stock: {item.quantity}</p>\n                    <Button\n                      variant=\"success\"\n                      onClick={() => {\n                        onAdd(item._id);\n                      }}\n                    >\n                      add to cart\n                    </Button>\n                  </>\n                )}\n                {cartValue.includes(item._id) ? (\n                  <>\n                    <Button\n                      variant=\"warning\"\n                      onClick={() => {\n                        onRemove(item._id);\n                      }}\n                    >\n                      remove from cart\n                    </Button>\n                    <p>\n                      This item is in cart:{\" \"}\n                      {\n                        cartValue.filter((elem) => {\n                          return elem == item._id;\n                        }).length\n                      }\n                    </p>\n                  </>\n                ) : (\n                  <>{null}</>\n                )}\n              </div>\n            </Col>\n          </Row>\n        </Modal.Body>\n\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleClose}>\n            Close\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n};\n\nexport default ItemModal;\n","/Users/sumi/Desktop/Ironhack/career/Malwarebytes/react-nodejs-exercise/client/src/config.js",[],"/Users/sumi/Desktop/Ironhack/career/Malwarebytes/react-nodejs-exercise/client/src/components/Navbar.js",["52","53"],"import React, { useState, useContext } from \"react\";\nimport { Nav, Container } from \"react-bootstrap\";\nimport { Context } from \"./Context\";\n\nconst Navbar = () => {\n  const { cart } = useContext(Context);\n  const [cartValue, setCart] = cart;\n\n\n  return (\n    <Nav className=\"mt-2\">\n      <Container className=\"d-flex justify-content-between align-items-center\">\n        <Nav.Item>\n          <h2>Test application</h2>\n        </Nav.Item>\n        <Nav.Item>\n          <h5 className=\"mt-3\">Total in cart: {cartValue.length} items(s)</h5>\n        </Nav.Item>\n      </Container>\n    </Nav>\n  );\n};\n\nexport default Navbar;\n","/Users/sumi/Desktop/Ironhack/career/Malwarebytes/react-nodejs-exercise/client/src/components/Context.js",["54","55","56","57"],"import React, { useState, useEffect, createContext } from \"react\";\nimport axios from 'axios';\nimport { API_URL } from \"../config\";\n\nexport const Context = createContext();\n\nexport const Provider = (props) => {\n  const [items, setItems] = useState([]);\n  const [item, setItem] = useState('')\n  const [cart, setCart] = useState([]);\n  const [tabCheck, setTabCheck] = useState(false);\n\n  // Alert\n  const [alert, setAlert] = useState(false);\n  const handleShowAlert = () => setAlert(true);\n  const handleCloseAlert = () => setAlert(false);\n  \n\n  useEffect(() => {\n    fetchItems();\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem(\"CartInLocalStorage\", cart);\n\n    return () => {\n      localStorage.removeItem(\"CartInLocalStorage\", cart);\n    };\n  }, [cart]);\n\n  const fetchItems = async () => {\n    try {\n      const data = await axios.get(`${API_URL}`).then((res) => {\n        setItems(res.data);\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const handleAdd = async (itemId) => {\n    let itemInLocal = localStorage.getItem(\"CartInLocalStorage\")\n      ? localStorage.getItem(\"CartInLocalStorage\").split(\",\")\n      : [];\n    if (\n      itemInLocal.length == cart.length ||\n      (!itemInLocal.length && !cart.length)\n    ) {\n      try {\n        const res = await axios.post(`${API_URL}/${itemId}/dec`);\n        setItems(res.data);\n\n        let cloneCart = JSON.parse(JSON.stringify(cart));\n        cloneCart.push(itemId);\n        setCart(cloneCart); \n\n      } catch (err) {\n        console.log(err);\n      }\n    } else {\n      try {\n        const res = await axios.post(`${API_URL}/${itemId}/dec`);\n        setItems(res.data);\n\n        let newCart = [itemId, ...itemInLocal];\n        setCart(newCart);\n\n        setItem(itemId)\n        handleShowAlert()\n\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  };\n\n  const handleRemove = async (itemId) => {\n    let itemInLocal = localStorage.getItem(\"CartInLocalStorage\")\n      ? localStorage.getItem(\"CartInLocalStorage\").split(\",\")\n      : [];\n    if (\n      itemInLocal.length == cart.length ||\n      (!itemInLocal.length && !cart.length)\n    ) {\n      let index = cart.indexOf(itemId);\n\n      if (index !== -1) {\n        try {\n          const res = await axios.post(`${API_URL}/${itemId}/inc`);\n          setItems(res.data);\n          let cloneCart = JSON.parse(JSON.stringify(cart));\n          cloneCart.splice(index, 1);\n          setCart(cloneCart);\n          setTabCheck(false);\n        } catch (err) {\n          console.log(err);\n        }\n      }\n    } else {\n      try {\n        const res = await axios.post(`${API_URL}/${itemId}/inc`);\n        setItems(res.data);\n        let newCart = [itemId, ...itemInLocal];\n        setCart(newCart);\n        handleShowAlert()\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  };\n\n  return (\n    <Context.Provider\n      value={{\n        items: [items, setItems],\n        item: [item, setItem],\n        cart: [cart, setCart],\n        tabCheck: [tabCheck, setTabCheck],\n        alert:[alert, setAlert],\n        onAdd: handleAdd,\n        onRemove: handleRemove,\n        onShowAlert:handleShowAlert,\n        onCloseAlert:handleCloseAlert\n      }}\n    >\n      {props.children}\n    </Context.Provider>\n  );\n};\n","/Users/sumi/Desktop/Ironhack/career/Malwarebytes/react-nodejs-exercise/client/src/components/Alert.js",["58","59","60","61","62","63","64","65","66","67","68"],"import React, { useContext } from \"react\";\nimport { Button, Modal } from \"react-bootstrap\";\nimport { Context } from \"./Context\";\n\nconst Alert = () => {\n  const { alert } = useContext(Context);\n  const [alertValue, setAlert] = alert;\n\n  const { cart } = useContext(Context);\n  const [cartValue, setCart] = cart;\n\n  const { items } = useContext(Context);\n  const [itemsValue, setItems] = items;\n\n  const { item } = useContext(Context);\n  const [itemValue, setItem] = item;\n\n  const { onShowAlert, onCloseAlert } = useContext(Context);\n\n  const alertedItem = itemsValue.filter(\n    (originalItem) => itemValue == originalItem._id\n  );\n\n  const itemInCart = cartValue.filter((cartItem) => itemValue == cartItem);\n\n  return (\n    <>\n      {!itemValue ? null : (\n        <Modal show={alertValue} onHide={onCloseAlert}>\n          <Modal.Header closeButton>\n            <Modal.Title>You open multiple tabs/windows:</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <p>\n              {alertedItem[0].name} changed to {itemInCart.length}\n            </p>\n          </Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"secondary\" onClick={onCloseAlert}>\n              Close\n            </Button>\n          </Modal.Footer>\n        </Modal>\n      )}\n    </>\n  );\n};\n\nexport default Alert;\n",{"ruleId":"69","replacedBy":"70"},{"ruleId":"71","replacedBy":"72"},{"ruleId":"73","severity":1,"message":"74","line":4,"column":21,"nodeType":"75","messageId":"76","endLine":4,"endColumn":24},{"ruleId":"73","severity":1,"message":"77","line":9,"column":22,"nodeType":"75","messageId":"76","endLine":9,"endColumn":30},{"ruleId":"73","severity":1,"message":"78","line":14,"column":21,"nodeType":"75","messageId":"76","endLine":14,"endColumn":28},{"ruleId":"73","severity":1,"message":"79","line":17,"column":10,"nodeType":"75","messageId":"76","endLine":17,"endColumn":23},{"ruleId":"73","severity":1,"message":"80","line":17,"column":25,"nodeType":"75","messageId":"76","endLine":17,"endColumn":36},{"ruleId":"73","severity":1,"message":"81","line":20,"column":10,"nodeType":"75","messageId":"76","endLine":20,"endColumn":20},{"ruleId":"73","severity":1,"message":"82","line":20,"column":22,"nodeType":"75","messageId":"76","endLine":20,"endColumn":30},{"ruleId":"73","severity":1,"message":"83","line":22,"column":28,"nodeType":"75","messageId":"76","endLine":22,"endColumn":39},{"ruleId":"73","severity":1,"message":"84","line":22,"column":41,"nodeType":"75","messageId":"76","endLine":22,"endColumn":53},{"ruleId":"85","severity":1,"message":"86","line":94,"column":39,"nodeType":"87","messageId":"88","endLine":94,"endColumn":41},{"ruleId":"73","severity":1,"message":"89","line":1,"column":17,"nodeType":"75","messageId":"76","endLine":1,"endColumn":25},{"ruleId":"73","severity":1,"message":"78","line":7,"column":21,"nodeType":"75","messageId":"76","endLine":7,"endColumn":28},{"ruleId":"73","severity":1,"message":"90","line":34,"column":13,"nodeType":"75","messageId":"76","endLine":34,"endColumn":17},{"ruleId":"85","severity":1,"message":"86","line":47,"column":26,"nodeType":"87","messageId":"88","endLine":47,"endColumn":28},{"ruleId":"85","severity":1,"message":"86","line":82,"column":36,"nodeType":"87","messageId":"88","endLine":82,"endColumn":38},{"ruleId":"85","severity":1,"message":"86","line":84,"column":26,"nodeType":"87","messageId":"88","endLine":84,"endColumn":28},{"ruleId":"73","severity":1,"message":"89","line":1,"column":17,"nodeType":"75","messageId":"76","endLine":1,"endColumn":25},{"ruleId":"73","severity":1,"message":"74","line":2,"column":25,"nodeType":"75","messageId":"76","endLine":2,"endColumn":28},{"ruleId":"73","severity":1,"message":"91","line":2,"column":30,"nodeType":"75","messageId":"76","endLine":2,"endColumn":33},{"ruleId":"73","severity":1,"message":"92","line":2,"column":35,"nodeType":"75","messageId":"76","endLine":2,"endColumn":44},{"ruleId":"73","severity":1,"message":"82","line":7,"column":22,"nodeType":"75","messageId":"76","endLine":7,"endColumn":30},{"ruleId":"73","severity":1,"message":"78","line":10,"column":21,"nodeType":"75","messageId":"76","endLine":10,"endColumn":28},{"ruleId":"73","severity":1,"message":"77","line":13,"column":22,"nodeType":"75","messageId":"76","endLine":13,"endColumn":30},{"ruleId":"73","severity":1,"message":"93","line":16,"column":21,"nodeType":"75","messageId":"76","endLine":16,"endColumn":28},{"ruleId":"73","severity":1,"message":"83","line":18,"column":11,"nodeType":"75","messageId":"76","endLine":18,"endColumn":22},{"ruleId":"85","severity":1,"message":"86","line":21,"column":33,"nodeType":"87","messageId":"88","endLine":21,"endColumn":35},{"ruleId":"85","severity":1,"message":"86","line":24,"column":63,"nodeType":"87","messageId":"88","endLine":24,"endColumn":65},"no-native-reassign",["94"],"no-negated-in-lhs",["95"],"no-unused-vars","'Row' is defined but never used.","Identifier","unusedVar","'setItems' is assigned a value but never used.","'setCart' is assigned a value but never used.","'tabCheckValue' is assigned a value but never used.","'setTabCheck' is assigned a value but never used.","'alertValue' is assigned a value but never used.","'setAlert' is assigned a value but never used.","'onShowAlert' is assigned a value but never used.","'onCloseAlert' is assigned a value but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'useState' is defined but never used.","'data' is assigned a value but never used.","'Col' is defined but never used.","'Container' is defined but never used.","'setItem' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]